@model IEnumerable<coco.Models.Storage>

@{
    ViewData["Title"] = "S·∫£n ph·∫©m";
}
<div class="product-layout">
    <div class="product-left">
        <h1 style="color:brown;">S·∫¢N PH·∫®M C·ª¶A <strong style="color:darkgreen;">COCOPURE</strong></h1>
    <div class="product-info">
        <h2>Th√†nh ph·∫ßn</h2>
            <p>‚óè <strong>D·∫ßu d·ª´a √©p l·∫°nh:</strong> Cung c·∫•p ƒë·ªô ·∫©m s√¢u, gi√∫p t√≥c ch·∫Øc kh·ªèe v√† b√≥ng m∆∞·ª£t.</p>
            <p>‚óè <strong>Tinh d·∫ßu g·ª´ng:</strong> K√≠ch th√≠ch tu·∫ßn ho√†n m√°u tr√™n da ƒë·∫ßu, gi√∫p gi·∫£m r·ª•ng t√≥c v√† h·ªó tr·ª£ m·ªçc t√≥c m·ªõi.</p>
            <p>‚óè <strong>Vitamin E & B5:</strong> Cung c·∫•p d∆∞·ª°ng ch·∫•t gi√∫p t√≥c ch·∫Øc kh·ªèe, ngƒÉn ng·ª´a g√£y r·ª•ng.</p>
            <p>‚óè <strong>Silk Protein:</strong> T·∫°o l·ªõp m√†ng b·∫£o v·ªá t√≥c, gi√∫p t√≥c m·ªÅm m∆∞·ª£t v√† ƒë√†n h·ªìi t·ªët h∆°n.</p>
        <img src="../image/product1.jpg"/>
    </div>
    <div class="product-info mt-1">
            <h2>Ngu·ªìn g·ªëc, xu·∫•t x·ª©</h2>
            <p>S·∫£n ph·∫©m ƒë∆∞·ª£c s·∫£n xu·∫•t t·∫°i Vi·ªát Nam, s·ª≠ d·ª•ng nguy√™n li·ªáu thi√™n nhi√™n t·ª´ c√°c v√πng tr·ªìng d·ª´a v√† g·ª´ng h·ªØu c∆°.</p>
    </div>
    <div class="product-info mt-1">
        <h2>C√¥ng d·ª•ng</h2>
            <p>‚óè Gi·∫£m r·ª•ng t√≥c, k√≠ch th√≠ch m·ªçc t√≥c.</p>
            <p>‚óè D∆∞·ª°ng ·∫©m s√¢u, gi√∫p t√≥c m·ªÅm m∆∞·ª£t v√† ch·∫Øc kh·ªèe.</p>
            <p>‚óè NgƒÉn ng·ª´a t√≥c g√£y r·ª•ng, b·∫£o v·ªá t√≥c kh·ªèi t√°c ƒë·ªông c·ªßa m√¥i tr∆∞·ªùng.</p>
            <img src="../image/product2.jpg" />
    </div><div class="product-info mt-1">
            <h2>USP (Unique Selling Proposition) c·ªßa s·∫£n ph·∫©m</h2>
            <p>‚óè S·ª≠ d·ª•ng d·∫ßu d·ª´a √©p l·∫°nh nguy√™n ch·∫•t thay v√¨ d·∫ßu d·ª´a th√¥ng th∆∞·ªùng, gi√∫p gi·ªØ nguy√™n d∆∞·ª°ng ch·∫•t.</p>
            <p>‚óè K·∫øt h·ª£p tinh d·∫ßu g·ª´ng ‚Äì m·ªôt th√†nh ph·∫ßn ƒë·ªôc ƒë√°o gi√∫p k√≠ch th√≠ch m·ªçc t√≥c v√† c·∫£i thi·ªán s·ª©c kh·ªèe da ƒë·∫ßu.</p>
            <p>‚óè C√¥ng th·ª©c an to√†n, kh√¥ng ch·ª©a h√≥a ch·∫•t ƒë·ªôc h·∫°i nh∆∞ paraben, sulfate hay silicon.</p>
            <p>‚óè Thi·∫øt k·∫ø theo m√πa, mang l·∫°i tr·∫£i nghi·ªám chƒÉm s√≥c t√≥c ƒë·∫∑c bi·ªát cho t·ª´ng th·ªùi ƒëi·ªÉm trong nƒÉm.</p>
    </div>
        <div class="product-info mt-1">
            <h2>T√°c d·ª•ng c·ªßa th√†nh ph·∫ßn</h2>
            <p>‚óè <strong>D·∫ßu d·ª´a √©p l·∫°nh: </strong>Cung c·∫•p ƒë·ªô ·∫©m, b·∫£o v·ªá l·ªõp keratin t·ª± nhi√™n c·ªßa t√≥c.</p>
            <p>‚óè <strong>Tinh d·∫ßu g·ª´ng: </strong>K√≠ch th√≠ch nang t√≥c, th√∫c ƒë·∫©y qu√° tr√¨nh m·ªçc t√≥c.</p>
            <p>‚óè <strong>Vitamin E & B5: </strong>Gi√∫p t√≥c ch·∫Øc kh·ªèe, ph·ª•c h·ªìi t√≥c h∆∞ t·ªïn.</p>
            <p>‚óè <strong>Silk Protein:</strong> T·∫°o ƒë·ªô b√≥ng t·ª± nhi√™n v√† b·∫£o v·ªá t√≥c kh·ªèi h∆∞ t·ªïn.</p>
        </div>
    </div>
    <div class="product-list">
        <h1 class="display-4"><strong>DANH S√ÅCH S·∫¢N PH·∫®M</strong></h1>

        @if (Model == null || !Model.Any())
        {
            <p>‚ö†Ô∏è Hi·ªán t·∫°i kh√¥ng c√≥ s·∫£n ph·∫©m n√†o.</p>
        }
        else
        {
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th>T√™n s·∫£n ph·∫©m</th>
                        <th>Gi√°</th>
                        <th>S·ªë l∆∞·ª£ng</th>
                        <th>H√†nh ƒë·ªông</th>
                    </tr>
                </thead>
                <tbody>
                    @foreach (var item in Model)
                    {
                        <tr>
                            <td>@item.ItemName</td>
                            <td class="price">@item.ItemPrice</td>
                            <td>@item.ItemAmount</td>
                            <td>
                                <button class="btn btn-primary btn-sm add-to-cart"
                                        data-id="@item.ItemId"
                                        data-name="@item.ItemName"
                                        data-price="@item.ItemPrice">
                                    Th√™m v√†o gi·ªè h√†ng
                                </button>
                            </td>
                        </tr>
                    }
                </tbody>
            </table>
        }
    </div>
</div>
<style>
    .product-info img{
        max-width:100%;
        max-height:auto;
    }
    .product-info h2 {
        color:coral;
        font-size:40px;
    }

    .product-info p{
        font-size:25px;
    }
    .table th,
    .table td {
        text-align: center;
        vertical-align: middle;
    }
    .product-layout {
        display: flex;
        gap: 30px;
        align-items: flex-start;
        max-width: 1200px;
        margin: auto;
        padding: 40px 20px;
    }

    .product-info {
        flex: 1;
        background: #f8f9fa;
        padding: 20px;
        border-radius: 10px;
        max-width:700px;
        box-shadow: 0 5px 5px rgba(0, 0, 0, 0.1);
        color: #333;
    }

    .product-list h1{
        text-align: center;
    }

    .product-list {
        position: fixed;
        top: 100px; /* Gi·ªØ kho·∫£ng c√°ch v·ªõi header */
        left: 80%; /* ƒê∆∞a danh s√°ch s·∫£n ph·∫©m g·∫ßn h∆°n v·ªÅ gi·ªØa */
        transform: translateX(-50%); /* Canh gi·ªØa theo tr·ª•c ngang */
        width: 500px; /* ƒêi·ªÅu ch·ªânh ƒë·ªô r·ªông */
        max-height: 80vh; /* Gi·ªõi h·∫°n chi·ªÅu cao */
        overflow-y: auto; /* Thanh cu·ªôn n·∫øu n·ªôi dung d√†i */
        background: white; /* ƒê·∫£m b·∫£o kh√¥ng b·ªã trong su·ªët */
        padding: 15px;
        border-radius: 10px;
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        z-index: 1000; /* ƒê·∫£m b·∫£o hi·ªÉn th·ªã tr√™n n·ªôi dung kh√°c */
    }



    .table {
        width: 100%;
        border-collapse: collapse;
    }

        .table th,
        .table td {
            padding: 10px;
            border: 1px solid #ddd;
            text-align: center;
        }

    .add-to-cart {
        background-color: #28a745;
        color: white;
        border: none;
        padding: 5px 10px;
        cursor: pointer;
        border-radius: 5px;
    }

        .add-to-cart:hover {
            background-color: #218838;
        }

</style>

<div class="toast-container position-fixed top-0 end-0 p-3">
    <div id="cartToast" class="toast align-items-center text-white bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
        <div class="d-flex">
            <div class="toast-body">
                üõí S·∫£n ph·∫©m ƒë√£ ƒë∆∞·ª£c th√™m v√†o gi·ªè h√†ng!
            </div>
            <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
        </div>
    </div>
</div>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        function formatCurrency(price) {
            return new Intl.NumberFormat('vi-VN', { style: 'currency', currency: 'VND' }).format(price);
        }
        document.querySelectorAll(".price").forEach(function (element) {
            let price = parseFloat(element.textContent);
            element.textContent = formatCurrency(price);
        });
        document.querySelectorAll(".add-to-cart").forEach(button => {
            button.addEventListener("click", function () {
                let itemId = this.getAttribute("data-id");
                let itemName = this.getAttribute("data-name");
                let itemPrice = parseFloat(this.getAttribute("data-price"));

                let cart = JSON.parse(localStorage.getItem("tempShopping")) || {};

                if (cart[itemId]) {
                    cart[itemId].itemAmount += 1;
                } else {
                    cart[itemId] = {
                        itemId: itemId,
                        itemName: itemName,
                        itemPrice: itemPrice,
                        itemAmount: 1
                    };
                }
                localStorage.setItem("tempShopping", JSON.stringify(cart));
                let cartToast = new bootstrap.Toast(document.getElementById("cartToast"));
                document.querySelector("#cartToast .toast-body").textContent = `‚úÖ ${itemName} ƒë√£ ƒë∆∞·ª£c th√™m v√†o gi·ªè h√†ng!`;
                cartToast.show();
            });
        });
    });
</script>
